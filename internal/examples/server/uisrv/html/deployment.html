{{ template "header.html" . }}

<a href="/">Back to Home</a>

<style>
    td {
        padding: 5px
    }
</style>

<link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

<h3>Deployment Configuration</h3>

<hr/>

<table width="100%">
    <tr>
        <td valign="top">
            Current Solution Configs:<br/>
            <div style="width:800px;overflow:auto">
                <pre><code class="language-json">{{ .AllSolutionConfig }}</code></pre>
            </div>
        </td>

        <td valign="top">
            Current Tenant Configs:<br/>
            <div style="width:800px;overflow:auto">
                <pre><code class="language-json">{{ .AllTenantConfig }}</code></pre>
            </div>
        </td>
    </tr>
</table>

<hr/>

<table width="100%">
    <tr>
        <td valign="top">
            Upsert Configuration:<br/>
            <form action="/update_object_config" method="post">
                <input type="hidden" name="objectType" value="deployment"/><br>

                <input type="radio" id="solution" name="layerType" value="solution" checked>
                <label for="solution">Solution</label><br/>
                <input type="radio" id="tenant" name="layerType" value="tenant">
                <label for="tenant">Tenant</label><br/>
                <br/>

                <textarea cols="100" rows="20" name="config">{{ .UpdateObjectConfig }}</textarea><br/>

                <input type="submit" value="Save and Upsert Object"/>
            </form>
        </td>

        <td valign="top">
            Patch Configuration:<br/>
            <form action="/patch_object_config" method="post">
                <input type="hidden" name="objectType" value="deployment"/><br>

                <label for="objectId">ObjectId:</label><br>
                <input type="text" id="objectId" name="objectId"><br><br>

                <textarea cols="100" rows="20" name="config">{{ .PatchObjectConfig }}</textarea><br/>

                <input type="submit" value="Save and Patch Object"/>
            </form>
        </td>
    </tr>
</table>

<hr/>

</body>
</html>
